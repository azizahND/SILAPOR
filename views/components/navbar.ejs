<header class="sticky top-0 z-50 w-full bg-white shadow-md py-3">
  <nav class="max-w-[85rem] mx-auto px-4 flex items-center justify-between">
    <!-- Brand -->
    <a class="flex items-center gap-x-2 text-xl font-semibold dark:text-white" href="#">
      <img class="w-10 h-auto" src="/images/logo.png" alt="Logo" />
      SILAPOR
    </a>

    <!-- Menu Links + Profile -->
    <div class="flex items-center gap-4">
      <!-- Navigasi -->
      <a href="/mahasiswa/home" class="nav-link font-medium text-gray-600 hover:text-gray-400 dark:text-neutral-400">Beranda</a>
      <a href="/mahasiswa/my-reports" class="nav-link font-medium text-gray-600 hover:text-gray-400 dark:text-neutral-400">Laporan Saya</a>
      <a href="/mahasiswa/history" class="nav-link font-medium text-gray-600 hover:text-gray-400 dark:text-neutral-400">Riwayat</a>
      <a href="/claim/my-claim" class="nav-link font-medium text-gray-600 hover:text-gray-400 dark:text-neutral-400">Klaim</a>

      <!-- Profile Dropdown -->
      <div class="relative">
        <button id="profileMenuBtn" class="flex items-center gap-2 focus:outline-none">
          <img src="/images/profile.png" alt="Profile" class="w-8 h-8 rounded-full border-2 border-gray-300 dark:border-neutral-600" />
          <i class="fas fa-chevron-down text-gray-600 dark:text-gray-300"></i>
        </button>

        <div id="profileMenu" class="hidden absolute right-0 mt-2 w-48 bg-white border border-gray-200 dark:border-neutral-700 rounded-lg shadow-lg py-2 z-50">
          <a href="/profile" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-neutral-700">Profil Saya</a>
          <form action="/logout" method="POST">
            <button type="submit" class="w-full text-left px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-neutral-700">Logout</button>
          </form>
        </div>
      </div>
    </div>
  </nav>
</header>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const profileBtn = document.getElementById("profileMenuBtn");
  const profileMenu = document.getElementById("profileMenu");

  // Dropdown Profile
  profileBtn.addEventListener("click", (e) => {
    e.stopPropagation(); // jangan trigger window click
    profileMenu.classList.toggle("hidden");
  });

  window.addEventListener("click", (e) => {
    if (!profileBtn.contains(e.target) && !profileMenu.contains(e.target)) {
      profileMenu.classList.add("hidden");
    }
  });

  // Highlight link aktif
  const currentPath = window.location.pathname;
  document.querySelectorAll(".nav-link").forEach(link => {
    if (link.getAttribute("href") === currentPath) {
      link.classList.add("text-green-800", "border-b-2", "border-green-800");
      link.classList.remove("text-gray-600");
    }
  });
});
</script>
